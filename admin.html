<!DOCTYPE html>
<html>
<head>
  <!-- Standard Meta -->
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

<!-- Site Properties -->
<title>RIGLEARN</title>
<link rel="stylesheet" type="text/css" href="./static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="./static/css/fontawesome.css">
<link rel="stylesheet" type="text/css" href="./static/css/rigan.css">
<link rel="stylesheet" type="text/css" href="./static/themes/w-theme-blue.css">
<link rel="stylesheet" type="text/css" href="./dist/semantic.min.css">
<link rel="stylesheet" type="text/css" href="./static/css/owl.carousel.min.css">
<link rel="stylesheet" type="text/css" href="./static/css/sweetalert.min.css">
<link rel="stylesheet" type="text/css" href="./static/css/nav.css">

<script src="./static/module/swif.js"></script>
<script src="./dist/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="./static/js/popper.min.js"></script>
<script src="https://js.paystack.co/v1/inline.js"></script>
<script src="./static/js/bootstrap.min.js"></script>
<script src="./static/js/owl.carousel.min.js"></script>
<script src="./static/js/sweetalert.min.js"></script>
<script src="./dist/semantic.min.js"></script>
<link rel="stylesheet" href="./static/lib/prism.min.css" />
<script src="./static/lib/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script src="https://cdn.tiny.cloud/1/ntpm8wccvu79outibfbyckg133geerx3v63a16nsz2c2bmsv/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>    
  <!-- template -->
  
  <!-- navigation bar -->
  <template id="sidenav">

    <div class="bottom-nav w-card-8">
      <div class="dash-act"><a href="#"><i class="fa fa-th-large"></i><br>Home</a></div>
      <div class="course-act"><a href="#courses"><i class="fa fa-laptop"></i><br>Courses</a></div>
      <div class="user-act note-act pass-act acc-act dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-smile-o"></i><br>Me</a>
        <ul class="dropdown-menu w-card-16 w-left">
            <li><a class="user-act dropdown-item w-padding" href="#profile"><i class="fa fa-user"></i> Profile</a></li>
            <li><a class="gpt-act dropdown-item w-padding" href="#ask_gpt"><i class="fa fa-android"></i> Rigan AI</a></li>
            <li><a class="pass-act dropdown-item w-padding" href="#change_password"><i class="fa fa-lock"></i> Change Password</a></li>
            <li><a class="acc-act dropdown-item w-padding" href="#account_settings"><i class="fa fa-gear"></i> Account Settings</a></li>
            <li><a class="note-act dropdown-item w-padding" href="#notifications"><i class="fa fa-bell"></i> Notifications</a></li>
            <li><a class="logout-btn dropdown-item w-padding" href="#"><i class="fa fa-power-off"></i> Logout</a></li>
        </ul>
    </div>
      <div class="skill-act"><a href="#skills"><i class="fa fa-globe"></i><br>Explore</a></div>
      <div class="pro-act"><a href="#community"><i class="fa fa-group"></i><br>Community</a></div>
      
  </div>
    <script src="./static/js/login.js"></script>
    <script>
      
      $('.logout-btn').click(function(e) {
        e.preventDefault();
        logout();
      })
      $('.resume-act').click(function(e) {
        e.preventDefault()
        location.href = `${base_image_url}/resume/${localStorage.username}/`
      })
      
      var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
} 

    </script>
  </template>

  <!-- header -->
  <template id="header">
    
    <header class="">
      <form class="w-margin-right" id="">
        <h3 class="w-bold-xx w-text-white">
          <img src="./static/image/rlogo_bg.png" alt="" style="width:40px;height:40px;">
          RIGLEARN
        </h3>
      </form>
      <div class="side-content">
        <div class="side-content admin-pro w-margin-right">
          <a href="#profile">
            <img src="./static/image/avatar.png" alt="" class="admin-img" />
          </a>
        </div>
        <a class="notification" href="#notifications"><i class="fa fa-bell w-text-white"></i></a>
      </div>
    </header>
    
    <script>
      function showDP() {
        if(localStorage.dp) {
          //console.log(localStorage.dp)
          $('.admin-img').attr('src', `${base_image_url}${localStorage.dp}`)
        }
      }
      showDP();
    </script>
    
  </template>

    <!-- for dashboard -->
    <template id="dashboard">
    
      <?use-template: "sidenav"?>
      <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
      <main class="dashboard">
        <?use-template: "header"?>
        <div class="lim-con" style="margin-top:60px;">
          <div class="alert-note alert alert-danger">
            <i class="fa fa-warning"></i> Click <a class="w-text-blue" href="#company_profile">here</a> to add company details.
          </div>
          <h3 class=" w-padding-top">Welcome Back</h3>
          <p class="w-text-gray">Use the navigation bar for quick access to all our features</p>
          
          <div id="dash-wrapper">
            <div class="content-area">

              <div class="row mt-4">
                <div class="w-margin-bottom col-12 col-sm-12 col-md-12 col-lg-12 col-xl-5">
                  <div class="box shadow">
                    <div id="bar"></div>
                  </div>
                </div>
                <div class="col-12 col-sm-12 col-md-7 col-lg-7 col-xl-4">
                  <div class="box shadow">
                    <div id="donutTop"></div>
                  </div>
                </div>
                <div class="col-12 col-sm-12 col-md-5 col-lg-5 col-xl-3">
                  <div class="box shadow">
                    <div id="radialBar1"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </main>
      <script src="./static/js/chart.js"></script>
      <script src="./static/js/dashboard.js"></script>
      <script>
        $('.dash-act').addClass('active')
      </script>
</template>

  <!-- for user profile -->
  <template id="profile">
    <?use-template: "sidenav"?>
        <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
        <main class="">
          <h2 class="w-bold-x w-center w-text-white">Student Profile</h2>
          <form class="row comp-form" id="comp-form">

            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 w-padding">
              <div class="company_image">
                <img src="./static/image/avatar.png" class="comp_image" alt="" />
                <label class="comp_image_in" for="comp_image_in"><i class="fa fa-camera"></i></label>
                <input type="file" accept="image/*" id="comp_image_in" class="comp-im" onchange="readFile();" />
              </div>
            </div>
            <div class="lim-con">
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 w-padding">
                <div class="form-group">
                  <label for="fname"><span class="w-text-red w-bold">*</span> First Name:</label>
                  <input type="text" class="form-control" id="fname">
                </div>
                <div class="form-group">
                  <label for="lname"><span class="w-text-red w-bold">*</span> Last Name:</label>
                  <input type="text" class="form-control" id="lname">
                </div>
                <div class="form-group">
                  <label for="email"><span class="w-text-red w-bold">*</span> Email:</label>
                  <input type="email" class="form-control" id="email">
                </div>
                <div class="form-group">
                  <label for="openai">OpenAI API Key:</label>
                  <input type="text" class="form-control" id="openai">
                  <p>If you don't have a key, <a href="#openai_key" class="w-text-red">Click Here</a> to learn how to get a key.</p>
                </div>
                
              </div>
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                <button type="submit" class="btn btn-block form-btn comp-btn">Save Profile</button>
              </div>
            </div>
          </form>
        </main>
        <script src="./static/js/profile.js"></script>
    <script>
      $('.user-act').addClass('active');
      $('#comp-form').submit(function(e) {
            e.preventDefault();
            saveProfile();
        })
    </script>
  </template>

  <!-- for courses -->
  <template id="skills">
    <?use-template: "sidenav"?>
        <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
        <main class="">
          <h2 class="w-bold-x w-center w-text-white">Our Courses</h2>
          <div class="w-flex w-flex-start w-align-center">
            <div class="h4 w-bold-x w-text-white fa fa-filter w-margin-right"></div>
            <select class="custom-select cat-filter w-margin-right">
            </select>
            <div class="h4 w-bold-x w-text-white fa fa-sort w-margin-right"></div>
            <select class="custom-select sort-filter">
              <option selected value="title">Name (A-Z)</option>
              <option value="-title">Name (Z-A)</option>
              <option value="price">Price (Low-High)</option>
              <option value="-price">Price (High-Low)</option>
            </select>
          </div>
          <div class="input-group mb-3 mt-2">
            <input type="text" id="skill-input" class="form-control" placeholder="Search for courses">
            <div class="input-group-append">
              <span class="input-group-text"><i class="fa fa-search"></i></span>
            </div>
          </div>

          <div class="lim-con">
            <div class="skill-row ski">
              <div class="loader">
                <div class="ball"></div>
                <div class="ball"></div>
                <div class="ball"></div>
                <div class="ball"></div>
              </div>
            </div>
          </div>
        </main>

        <!-- Material list -->
        <div class="ski_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn"><i class="fa fa-arrow-left"></i></button>
            

            <div class="w-flex w-flex-start w-align-start mt-2">
              <img src="" class="skill-img" alt="" />
              <div>
                <div class="h4"><span class="skill-title w-text-blue w-bold-x"></span></div>
                <p class="h6 skill-num"></p>
              </div>
            </div>
            <button data-id="" class="enroll-btn w-margin-top btn btn-success btn-block w-padding">Enroll Now</button>

            <div class="wrapper">
              <input type="radio" name="slider" checked id="home">
              <input type="radio" name="slider" id="code">
              <input type="radio" name="slider" id="blog">
              <div class="tabs">
                <label for="home" class="home"><i class="fa fa-info"></i>Details</label>
                <label for="code" class="code"><i class="fa fa-desktop"></i>Courses</label>
                <label for="blog" class="blog"><i class="fa fa-comment"></i>Reviews</label>
                <div class="slider"></div>
              </div>
              <section>
                <div class="skill-detail content w-margin-bottom w-padding-top content-1">
                </div>

                <div class="skill-courses content w-margin-bottom w-padding-top content-2 w-flex-wrap w-flex-around w-align-center">
                </div>

                <div class="skill-reviews content w-margin-bottom w-padding-top content-3">
                </div>
              </section>
            </div>

          </div>
        </div>

        <div class="pay_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn2"><i class="fa fa-arrow-left"></i></button>
            <div class="payment-content">
              <h3 style="text-align:center"><span class="w-text-blue w-bold-x">Payment Details</span></h3>
              <form  id="payment-form">
                <div class="w-flex w-flex-between w-align-center">
                  <h6 class="w-bold-xx">Payer Name</h6>
                  <h6 class="w-text-gray" id="p_name"></h6>
                </div>
                <div class="w-flex w-flex-between w-align-center">
                  <h6 class="w-bold-xx">Payer Email</h6>
                  <h6 class="w-text-gray" id="p_email"></h6>
                </div>
                <div class="w-flex w-flex-between w-align-center">
                  <h6 class="w-bold-xx">Amount</h6>
                  <h6 class="w-text-gray" id="p_amt"></h6>
                </div>
                <div class="w-flex w-flex-between w-align-center">
                  <h6 class="w-bold-xx">Payment For</h6>
                  <h6 class="w-text-gray" id="p_des"></h6>
                </div>
                <div class="w-flex w-flex-between w-align-center">
                  <h6 class="w-bold-xx">Reference ID</h6>
                  <h6 class="w-text-gray" id="p_ref"></h6>
                </div>
                <input type="hidden" id="pk" value="" />
                <input type="hidden" id="ref_id" value="" />
                <input type="hidden" id="pay_amt" value="" />
                <input type="hidden" id="pay_email" value="" />
                <button type="submit" class="btn btn-success pay-btn btn-block">Proceed with Payment</button>
              </form>
            </div>
          </div>
        </div>

        
        <script src="./static/js/skill.js"></script>
        <script>
          $('.skill-act').addClass('active');
          $('#payment-form').submit(function(e) {
            e.preventDefault()
            payWithPaystack()
          })
          $('#skill-input').on('input', function() {
            let v = $(this).val().toLowerCase();
            $('.sk-item[data-name]').each(function() {
              let dataName = $(this).data('name').toLowerCase();
              if(dataName.includes(v)) {
                $(this).show()
              }
              else {
                $(this).hide()
              }
            })
          })
          $('.c_back_btn').click(function() {
            $('.ski_c_con').removeClass('active')
          });
          $('.c_back_btn2').click(function() {
            $('.pay_c_con').removeClass('active')
          });
          $('.cat-filter').on('change', function() {
            getSkills()
          })
          $('.sort-filter').on('change', function() {
            getSkills()
          })
        </script>
  </template>

  <template id="openai_key">
    <?use-template: "sidenav"?>
    <main class="openai-con" style="padding-bottom:60px">
      <h2 class="w-bold-x w-center w-text-white">How To Get Your OpenAI API Key</h2>
      <h3>Step 1: Create an account</h3>
      <p>Signing up on OpenAI is entirely free. you can create a free account by <a href="https://chat.openai.com/auth/login/" target="_blank">clicking here.</a></p>
      <h3>Step 2: Generate an API key</h3>
      <p>Once logged in, head to the left navigation bar and click "API Keys"</p>
      <a href="./static/image/openai1.png">
        <img src="./static/image/openai1.png" alt="">
      </a>
      <p>On the next screen, click "+ Create new secret key" and enter a name for your key in the pop-up window (it is optional). After entering a name, click "Create secret key"</p>
      <a href="./static/image/openai2.png">
        <img src="./static/image/openai2.png" alt="">
      </a>
      <p>On the next screen, copy yor API key and store it somewhere safe. <b>You will not be able to view it again.</b></p>
      <a href="./static/image/openai3.png">
        <img src="./static/image/openai3.png" alt="">
      </a>
      <h3>Step 3: Set up your API key</h3>
      <p style="padding-bottom:60px"><a href="#profile">click here</a> to set up your API key by pasting it in the required field and save</p>
    </main>
  </template>

  <!-- for courses -->
  <template id="courses">
    <?use-template: "sidenav"?>
        <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
        <main class="">
          <h2 class="w-bold-x w-center w-text-white">My Courses</h2>
          <div class="course-progress">
            
          </div>
          <div class="lim-con">
            <div class="skill-row">
              <div class="loader">
                <div class="ball"></div>
                <div class="ball"></div>
                <div class="ball"></div>
                <div class="ball"></div>
              </div>
            </div>
          </div>
        </main>

        <!-- Material list -->
        <div class="cou_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn4"><i class="fa fa-arrow-left"></i></button>

            <div class="wrapper">
              <input type="radio" name="slider2" checked id="co">
              <input type="radio" name="slider2" id="pr">
              <div class="tabs">
                <label for="co" class="co"><i class="fa fa-book"></i>Courses</label>
                <label for="pr" class="pr"><i class="fa fa-briefcase"></i>Projects</label>
                <div class="slider cou"></div>
              </div>
              <section>
                <div class="content content-1">
                  <div class="w-flex w-flex-wrap w-flex-around w-align-center course-row">
                    <div class="loader">
                      <div class="ball"></div>
                      <div class="ball"></div>
                      <div class="ball"></div>
                      <div class="ball"></div>
                    </div>
                  </div>
                </div>

                <div class="content content-2">
                  <table class="table">
                    <tbody class="pro-row">
                      <tr>
                        <td colspan="2">
                          <div class="loader">
                            <div class="ball"></div>
                            <div class="ball"></div>
                            <div class="ball"></div>
                            <div class="ball"></div>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>
            </div>

            

          </div>
        </div>

        <div class="pro_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn6"><i class="fa fa-arrow-left"></i></button>

            <div class="wrapper">
              <input type="radio" name="slider3" checked id="home">
              <input type="radio" name="slider3" id="code">
              <input type="radio" name="slider3" id="blog">
              <div class="tabs">
                <label for="home" class="home"><i class="fa fa-briefcase"></i>Info</label>
                <label for="code" class="code"><i class="fa fa-trophy"></i>Rankings</label>
                <label for="blog" class="blog"><i class="fa fa-book"></i>Submission</label>
                <div class="slider"></div>
              </div>
              <section>
                <div class="pro-detail w-padding-top content content-1">
                  <div class="loader">
                    <div class="ball"></div>
                    <div class="ball"></div>
                    <div class="ball"></div>
                    <div class="ball"></div>
                  </div>
                </div>

                <div class="content content-2">

                </div>

                <div class="content content-3">
                  <form class="submit-form mt-2" data-id="">
                    <div class="form-group">
                      <label for="repo">Link to Source Code/Repository:</label>
                      <input type="url" class="form-control" id="repo" value="">
                    </div>
                    <div class="form-group">
                      <label for="live">Link to Live Project:</label>
                      <input type="url" class="form-control" id="live" value="">
                    </div>
                    <div class="form-group">
                      <button type="submit" class="submit-form-btn btn btn-primary btn-block">Submit Project</button>
                    </div>
                  </form>

                  <div class="w-margin-top comment-con"></div>
                </div>
              </section>
            </div>

          </div>
    
        </div>

        <div class="sel_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn"><i class="fa fa-arrow-left"></i></button>
            <h3><span class="course-title"></span> Course</h3>

            <div class="wrapper">
              <input type="radio" name="slider" checked id="home2">
              <input type="radio" name="slider" id="code2">
              <input type="radio" name="slider" id="blog2">
              <div class="tabs">
                <label for="home2" class="home"><i class="fa fa-book"></i>Notes</label>
                <label for="code2" class="code"><i class="fa fa-video-camera"></i>Videos</label>
                <label for="blog2" class="blog"><i class="fa fa-question"></i>Quizzes</label>
                <div class="slider"></div>
              </div>
              <section>
                <div class="content content-1">
                  <table class="table">
                    <tbody class="mat-row">
                      <tr>
                        <td colspan="2">
                          <div class="loader">
                            <div class="ball"></div>
                            <div class="ball"></div>
                            <div class="ball"></div>
                            <div class="ball"></div>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="last_mat" data-id=""></div>
                </div>

                <div class="content content-2">
                  <table class="table">
                    <tbody class="vid-row">
                      <tr>
                        <td colspan="2">
                          <div class="loader">
                            <div class="ball"></div>
                            <div class="ball"></div>
                            <div class="ball"></div>
                            <div class="ball"></div>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                <div class="content content-3">
                  <table class="table">
                    <tbody class="quiz-row">
                      <tr>
                        <td colspan="2">
                          <div class="loader">
                            <div class="ball"></div>
                            <div class="ball"></div>
                            <div class="ball"></div>
                            <div class="ball"></div>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </section>
            </div>

          </div>
    
        </div>
        <!-- Quiz list -->
        <div class="qui_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn2"><i class="fa fa-arrow-left"></i></button>
            <h3><span class="quiz-title"></span></h3>
            <div class="quiz-content">
              <!-- Slideshow container -->
              <div class="slideshow-container quiz-ques"></div>

              <!-- Next and previous buttons -->
              <div class="prev-next w-flex w-flex-between w-align-center">
                
              </div>
              <!-- The dots/circles -->
              <div style="text-align:center" class="quiz-ind"></div>

              <div class="answers-con mt-3" data-id="">
                <h3 class="w-text-blue w-bold-x" style="text-align:center">Answers</h3>
                <div class="ans-con"></div>
              </div>
            </div>
          </div>
        </div>
        <!-- Material list -->
        <div class="mat_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn3"><i class="fa fa-arrow-left"></i></button>
            <div class="next-btns w-flex w-flex-between w-align-center">
              <button class="next-prev-btn prev-b" data-id="" data-name="" data-action="first">&lt;&nbsp;Prev</button>
              <button class="next-prev-btn next-b" data-id="" data-name="" data-action="last">Next&nbsp;&gt;</button>
            </div>
            <h3><span class="mat-title"></span></h3>
            <div class="mat-content"></div>
            <div class="next-btns w-flex w-flex-between w-align-center">
              <button class="next-prev-btn prev-b" data-id="" data-name="" data-action="first">&lt;&nbsp;Prev</button>
              <button class="next-prev-btn next-b" data-id="" data-name="" data-action="last">Next&nbsp;&gt;</button>
            </div>
          </div>
        </div>

        <!-- Material list -->
        <div class="edi_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn7"><i class="fa fa-arrow-left"></i></button>
            <!-- Nav tabs -->
            <ul class="nav nav-tabs mt-2">
              <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#html_code"><i class="fa fa-code"></i> Code Editor</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#browser"><i class="fa fa-desktop"></i> Result</a>
              </li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
              <div class="tab-pane active container" id="html_code">
                <div class="editor-con">
                  <div id="editable"></div>
                  <textarea id="editor" autocomplete="off"></textarea>
                </div>
              </div>
              <div class="tab-pane container" id="browser">
                <iframe id="code_result"></iframe>
              </div>
            </div>
          </div>
        </div>

        <!-- Video con -->
        <div class="vid_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn5"><i class="fa fa-arrow-left"></i></button>
            <iframe src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" class="course-vid" frameborder="0" allowfullscreen></iframe>
            <h3><span class="vid-title"></span></h3>
            <div class="vid-content"></div>
          </div>
        </div>

        <script src="./static/js/course.js"></script>
        
        
    <script>
      $('.course-act').addClass('active');
      $('#editor').on('input', function() {
        displayHighlight()
      });
      $('.next-prev-btn').click(function() {
        var id = $(this).data('id')
        var order = $(this).data('name')
        var type = $(this).data('action')
        getMaterial(id, order, type)
      })
      $('.c_back_btn').click(function() {
        $('.sel_c_con').removeClass('active')
      });
      $('.c_back_btn2').click(function() {
        $('.qui_c_con').removeClass('active')
      });
      $('.c_back_btn3').click(function() {
        $('.mat_c_con').removeClass('active')
      });
      $('.c_back_btn4').click(function() {
        $('.cou_c_con').removeClass('active')
      });
      $('.c_back_btn5').click(function() {
        $('.vid_c_con').removeClass('active')
      });
      $('.c_back_btn6').click(function() {
        $('.pro_c_con').removeClass('active')
      });
      $('.c_back_btn7').click(function() {
        $('.edi_c_con').removeClass('active')
      });
      $('.submit-form').on('submit', function(e) {
        e.preventDefault();
        let pro_id = $(this).data('id')
        //console.log(pro_id)
        submitProject(pro_id)
      })
    </script>
  </template>

  <!-- for projects -->
  <template id="community">
    <?use-template: "sidenav"?>
        <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
        <main class="">
          <h2 class="w-bold-x w-center w-text-white">
            Community&nbsp;&nbsp;
            <button class="btn btn-primary w-round-xlarge w-white w-text-blue"><i class="fa fa-plus"></i> Create</button>
          </h2>

          <div class="input-group mb-3">
            <input type="text" class="form-control" id="group-search" placeholder="Search for community">
            <div class="input-group-append">
              <span class="input-group-text"><i class="fa fa-search"></i></span>
            </div>
          </div>

          <h3 class="w-bold-x">My Communities</h3>
          <div class="user-group-row mb-2 w-flex w-flex-start w-align-center">
            <div class="loader">
              <div class="ball"></div>
              <div class="ball"></div>
              <div class="ball"></div>
              <div class="ball"></div>
            </div>
          </div>
          <div class="lim-con commu">
            <div class="group-row">
              <div class="loader">
                <div class="ball"></div>
                <div class="ball"></div>
                <div class="ball"></div>
                <div class="ball"></div>
              </div>
            </div>
          </div>
          
        </main>

        <script src="./static/js/community.js"></script>
    <script>
      $('.pro-act').addClass('active');
      $('#group-search').on('input', function() {
            let v = $(this).val().toLowerCase();
            $('.sk-item[data-name]').each(function() {
              let dataName = $(this).data('name').toLowerCase();
              if(dataName.includes(v)) {
                $(this).show()
              }
              else {
                $(this).hide()
              }
            })
          })

    </script>
  </template>

  <template id="ask_gpt">
    <?use-template: "sidenav"?>
        <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
        <main class="">
          <div class="w-flex w-flex-between w-align-center">
            <div class="h3 w-text-white w-bold-x"><i class="fa fa-android"></i> RiganAI</div>
            <div class="h2 w-text-white w-bold-xx fa fa-history gpt_history"></div>
          </div>

          <div class="app-content" id="gpt-content">
            <div class="loader">
              <div class="ball"></div>
              <div class="ball"></div>
              <div class="ball"></div>
              <div class="ball"></div>
            </div>
          </div>

          <form class="message-form" id="gpt-chat-form">
            <div class="chat-form">
              <textarea class="chat-input" rows="1" id="gpt-prompt" placeholder="Message"></textarea>
            </div>
            <button type="submit" class="send-btn" id="gpt-chat-send"><i class="fa fa-send"></i></button>
          </form>
          
        </main>

        <div class="gpt_c_con side-con">
          <div class="mb-2">
            <button class="add_emp_btn c_back_btn"><i class="fa fa-arrow-left"></i></button>
            
            <button class="create-new-room btn mt-2 btn-block btn-success"><i class="fa fa-plus"></i> New Conversation</button>
            <table class="table">
              <tbody class="gpt-row">
                <tr>
                  <td colspan="2">
                    <div class="loader">
                      <div class="ball"></div>
                      <div class="ball"></div>
                      <div class="ball"></div>
                      <div class="ball"></div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        
        <script src="./static/lib/codemirror.js"></script>
        <script src="./static/lib/codemirror_jsx.js"></script>
        <script src="./static/js/gpt.js"></script>
        <script src="./static/js/editor_2.js"></script>
        <script src="./static/lib/prism.js"></script>
        <script src="./static/lib/prism1.js"></script>
        <script src="./static/lib/prism2.js"></script>
        <script>
          $('.gpt-act').addClass('active');
          $('.c_back_btn').click(function() {
            $('.gpt_c_con').removeClass('active')
          });
          $('.gpt_history').click(function() {
            $('.gpt_c_con').addClass('active');
            loadHistory()
          });
          $('.create-new-room').click(function() {
            createGPTRoom();
          })
          $('.chat-input').on('input', function() {
            $(this).css('height', 'auto');
            var scroll = Math.min(this.scrollHeight, 100) + 'px';
            //console.log(scroll + ' ' + typeof(scroll))
            $(this).css('height', scroll)                                             
          })
          $('#gpt-chat-send').click(function(e) {
            e.preventDefault();
            sendGPTChat();
          })
        </script>
  </template>

  <!-- for change password -->
  <template id="change_password">
    <?use-template: "sidenav"?>
        <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
        <main class="">
          <h1 class="w-bold-x w-center w-text-white">Change Password</h1>
          <div class="empty"></div>
          <div class="lim-con">
            <form class="row comp-form" id="change-pass-form">
              <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 w-padding">
                <label for="">Old Password:</label>
                <div class="input-group mb-3">
                  <input type="password" id="old_pass" class="form-control" required>
                  <div class="input-group-append">
                    <span class="input-group-text w-black show-pass"><i class="fa fa-eye"></i></span>
                  </div>
                </div>
              </div>
              <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 w-padding">
                <label for="">New Password:</label>
                <div class="input-group mb-3">
                  <input type="password" id="new_pass" class="form-control" required>
                  <div class="input-group-append">
                    <span class="input-group-text w-black show-pass"><i class="fa fa-eye"></i></span>
                  </div>
                </div>
              </div>
              <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 w-padding">
                <button type="submit" class="btn btn-block form-btn pass-btn">Change Password</button>
              </div>
            </form>
          </div>
        </main>
        <script src="./static/js/settings.js"></script>
    <script>
      $('.set-act').addClass('active');
      $('.pass-act').addClass('active');
      $('.show-pass').click(function() {
        let inp = $(this).parent('div').siblings('input')
        if(inp.attr('type') == 'password') {
          inp.attr('type', 'text')
        }
        else {
          inp.attr('type', 'password')
        }
      })
      $('#change-pass-form').submit(function(e) {
        e.preventDefault();
        changePassword();
      })
    </script>
  </template>

  <!-- for account settings -->
  <template id="account_settings">
    <?use-template: "sidenav"?>
        <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
        <main class="">
          <h2 class="w-bold-x w-center w-text-white">Account Settings</h2>
          <div class="empty"></div>
        </main>
        <script src=""></script>
    <script>
      $('.set-act').addClass('active');
      $('.acc-act').addClass('active');
    </script>
  </template>

  <!-- for account settings -->
  <template id="notifications">
    <?use-template: "sidenav"?>
        <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
        <main class="">
          <h2 class="w-bold-x w-center w-text-white">Notifications</h2>
          <div class="empty"></div>
        </main>
        <script src=""></script>
    <script>
      $('.note-act').addClass('active');
    </script>
  </template>

  <!-- error 404 page -->
  <template id="404">
    <?use-template: "sidenav"?>
    <?include: "templates/_parts/404.html"?><?end?>
</template>

<!-- Routes -->
<!-- homepage -->
<template route="/">
  <?use-template: "dashboard"?>
</template>
<template route="/profile">
  <?use-template: "profile"?>
</template>
<template route="/courses">
  <?use-template: "courses"?>
</template>
<template route="/skills">
  <?use-template: "skills"?>
</template>
<template route="/community">
  <?use-template: "community"?>
</template>
<template route="/notifications">
  <?use-template: "notifications"?>
</template>
<template route="/ask_gpt">
  <?use-template: "ask_gpt"?>
</template>
<template route="/openai_key">
  <?use-template: "openai_key"?>
</template>
<template route="/change_password">
  <?use-template: "change_password"?>
</template>
<template route="/account_settings">
  <?use-template: "account_settings"?>
</template>                                                                                     

<script>
var on = XJSX.event.on,
emit = XJSX.event.emit;
emit("hashchange");
</script>

<style type="text/css">

</style>
</head>
<body>
  <script>
    if(!localStorage.api_key || !localStorage.names) {
      location.href = './index.html';
    }
</script>
  
<?on: "hashchange"?>

<?eval:
"var hash=location.hash
hash=hash.replace(/^\/?#\/?|^/img,'/')
var page=document.querySelector(`template[route='${hash}']`)||'404';"?>


<?use-template: page?>
<?end?>

<script src="./static/js/functions.js"></script>

</body>
</html>                                                                                                                                               
